<!DOCTYPE html>
<html>

<head>
    <title>BONAVENTURA ADMIN</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/background_color.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/contact-718.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/cs-button-6.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/footer.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/gallery-45.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/header.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/hero-82.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/hero-408.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/property-grid.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/services.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/table.css') }}">
    <script src="{{ url_for('static', filename='js/header.js') }}"></script>
</head>

<body>
    <div class="wrapper">
        <header id="cs-navigation">
            <div class="cs-container">
                <!--Nav Logo-->
                <a href="{{ url_for('home') }}" class="cs-logo" aria-label="back to home">
                    <img src="{{ url_for('static', filename='images/background.jpg') }}" alt="logo" width="210"
                        height="29" aria-hidden="true" decoding="async">
                </a>
                <!--Navigation List-->
                <nav class="cs-nav" role="navigation">
                    <!--Mobile Nav Toggle-->
                    <button class="cs-toggle" aria-label="mobile menu toggle">
                        <div class="cs-box" aria-hidden="true">
                            <span class="cs-line cs-line1" aria-hidden="true"></span>
                            <span class="cs-line cs-line2" aria-hidden="true"></span>
                            <span class="cs-line cs-line3" aria-hidden="true"></span>
                        </div>
                    </button>
                    <div class="cs-ul-wrapper">
                        <ul id="cs-expanded" class="cs-ul" aria-expanded="false">
                            <li class="cs-li">
                                <a href="{{ url_for('add_address') }}" class="cs-li-link cs-active">
                                    Add an Address
                                </a>
                            </li>
                            <li class="cs-li">
                                <a href="{{ url_for('add_user') }}" class="cs-li-link">
                                    Add a User
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </header>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <div class="property-grid">
            {% for property in properties %}
            <div class="property-tile">
                <!-- Wrap the contents in an anchor tag -->
                <a href="{{ url_for('property_details', id = property['id']) }}" class="property-link">
                    <img class="property-image" src="{{ property['photo_url'] }}" alt="Property Image">
                    <div class="property-content">
                        <h3>{{ property['address'] }}</h3>
                        <h4>- DETAILS -</h4>
                        <p>LISTING PRICE ${{ property['price'] }}</p>
                        <p>TAX ASSESSED VALUE ${{ property['taxAssessedValue'] }}</p>
                        <p>TAX ASSESSED YEAR {{ property['taxAssessedYear'] }}</p>
                        <p>AUCTION LOCATION {{ property['foreclosureAuctionLocation'] }}</p>
                    </div>
                </a>
                <div class="property-buttons">
                    <!-- Pass the property ID in the URL for the Edit button -->
                    <button onclick="location.href='/edit/{{ property['id'] }}';" class="edit-btn">EDIT</button>
                    
                    <!-- Delete button with confirmation dialog -->
                    <button onclick="if(confirm('Are you sure you want to delete this property?')) location.href='/delete/{{ property['id'] }}';" class="delete-btn">DELETE</button>
                </div>
            </div>
            {% endfor %}
        </div>
        <br>
        <br>
        <br>
        <section id="table-1669">
            <div class="cs-container">
                <div class="cs-content">
                    <span class="cs-topper">User Information</span>
                    <h2 class="cs-title">User Management Table</h2>
                    <p class="cs-text">
                        Here is a detailed view of user data including ID, Username, Email, Phone, Role, and Actions.
                    </p>
        
                    <table class="cs-table">
                        <thead>
                            <tr class="cs-color">
                                <th class="cs-th">ID</th>
                                <th class="cs-th">Username</th>
                                <th class="cs-th">Email</th>
                                <th class="cs-th">Phone</th>
                                <th class="cs-th">Role</th>
                                <th class="cs-th">Edit</th>
                                <th class="cs-th">Delete</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for user in users %}
                            <tr class="cs-tr">
                                <td class="cs-td">{{ user['id'] }}</td>
                                <td class="cs-td">{{ user['username'] }}</td>
                                <td class="cs-td">{{ user['email'] }}</td>
                                <td class="cs-td">{{ user['phone'] }}</td>
                                <td class="cs-td">{{ user['role'] }}</td>
                                <td class="cs-td"><a href="{{ url_for('edit_user', user_id=user.id) }}" class="btn">Edit</a></td>
                                <td class="cs-td"><a href="{{ url_for('delete_user', user_id=user.id) }}" class="btn" onclick="return confirm('Are you sure?')">Delete</a></td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
        
        <br>
        <br>
        <br>

    </div>
</body>
</html>